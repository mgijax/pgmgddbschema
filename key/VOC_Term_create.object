#!/bin/sh

#
# History
#
# 11/12/2018	jsb
#		- adding VAR tables for variants
#
# 05/31/2017    lec 
#       - TR12250/Lit Triage
#
# 11/28/2016	lec
#	- TR12427/Disease Ontology (DO)
#
# 08/08/2016	jsb
#	- TR12370 / adding GXD_HT* tables for High-Throughput Indexing project
#
# 01/07/2016    lec 
#       - TR12223/converting _structure_key -> _emapa_term_key/_stage_key
#	- added MGI_SetMember_EMAPA
#
# 02/13/2015    sc
#       - TR 11771; Misc project Hybrid/HGNC human/mouse homology
#
# 02/25/2014    sc
#       - TR11560 - added MGI_Relationship FKs
#
# 12/12/2013	lec
#	- TR11515/high throughput part 2/allele stuff
#
# 10/14/13 - sc - added foreign keys to VOC_Term_EMAPS, VOC_Term_EMAPA
#
# 12/04/2012 - jsb - added foreign keys from MRK_Cluster
#
# 11/23/2010	lec
#	- TR10033/add image class
#
# 11/03/2010	lec
#	- TR10044/GO Notes/VOC_Evidence_Property
#
# 06/09/2010	lec
#	- TR 6839; added MRK_MCV_Cache
#
# 02/16/2010	lec
#	- TR 9239; added SEQ_Marker_Cache._BiotypeConflict_key
#
# 01/18/2010 - jsb - added SEQ_Sequence_Assoc
#
# 09/03/2009	lec
#	- TR9797; add GXD_TheilerStage, ALL_Cre_Cache
#
# 02/13/2009 - jsb - move _Transmission_key from ALL_Cache to ALL_Allele
# 01/14/2009 - jsb - added ALL_CellLine_Derivation._Vector_key
# 10/08/2008 - jsb - renamed SEQ_AdditionalInfo to be SEQ_GeneTrap
# 09/16/2008 - jsb - added VOC_Marker_Cache and VOC_Annot_Count_Cache
# 11/15/2007 - jsb - added ALL_Cache, SEQ_Allele_Assoc, SEQ_AdditionalInfo,
# 	ALL_CellLine_Derivation, and ALL_CellLine
#
# 10/19/2006	lec
#	- TR 6812; added VOC_GO_Cache
#
# 05/13/2002	lec
#	- TR 1463; SAO
#

cd `dirname $0` && . ./Configuration


cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

ALTER TABLE mgd.VOC_Term ADD PRIMARY KEY (_Term_key);


ALTER TABLE mgd.ALL_Cre_Cache ADD FOREIGN KEY (_Allele_Type_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.ALL_Cre_Cache ADD FOREIGN KEY (_EMAPA_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.GXD_Expression ADD FOREIGN KEY (_EMAPA_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_DO_Cache ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.SEQ_Marker_Cache ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.SEQ_Marker_Cache ADD FOREIGN KEY (_SequenceProvider_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.SEQ_Marker_Cache ADD FOREIGN KEY (_SequenceType_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.SEQ_Marker_Cache ADD FOREIGN KEY (_BiotypeConflict_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Term_EMAPA ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Term_EMAPA ADD FOREIGN KEY (_DefaultParent_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Term_EMAPS ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Term_EMAPS ADD FOREIGN KEY (_DefaultParent_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Term_EMAPS ADD FOREIGN KEY (_EMAPA_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_GO_Cache ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term ON DELETE CASCADE DEFERRABLE;

--
-- no cascading deletes
--

ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Mode_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Allele_Type_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Allele_Status_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_MarkerAllele_Status_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele_Mutation ADD FOREIGN KEY (_Mutation_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Transmission_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Collection_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_CellLine ADD FOREIGN KEY (_CellLine_Type_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_CellLine_Derivation ADD FOREIGN KEY (_VectorType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_CellLine_Derivation ADD FOREIGN KEY (_DerivationType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_CellLine_Derivation ADD FOREIGN KEY (_Creator_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.ALL_CellLine_Derivation ADD FOREIGN KEY (_Vector_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.BIB_Refs ADD FOREIGN KEY (_ReferenceType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.BIB_Workflow_Data ADD FOREIGN KEY (_Supplemental_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.BIB_Workflow_Status ADD FOREIGN KEY (_Group_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.BIB_Workflow_Status ADD FOREIGN KEY (_Status_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.BIB_Workflow_Tag ADD FOREIGN KEY (_Tag_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_AllelePair ADD FOREIGN KEY (_Compound_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_AllelePair ADD FOREIGN KEY (_PairState_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Assay ADD FOREIGN KEY (_ReporterGene_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Genotype ADD FOREIGN KEY (_ExistsAs_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_GelLaneStructure ADD FOREIGN KEY (_EMAPA_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTSample ADD FOREIGN KEY (_Emapa_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTSample ADD FOREIGN KEY (_Sex_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTSample ADD FOREIGN KEY (_Relevance_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperimentVariable ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperiment ADD FOREIGN KEY (_Source_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperiment ADD FOREIGN KEY (_EvaluationState_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperiment ADD FOREIGN KEY (_CurationState_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperiment ADD FOREIGN KEY (_StudyType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_HTExperiment ADD FOREIGN KEY (_ExperimentType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Index ADD FOREIGN KEY (_Priority_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Index ADD FOREIGN KEY (_ConditionalMutants_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Index_Stages ADD FOREIGN KEY (_IndexAssay_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_Index_Stages ADD FOREIGN KEY (_StageID_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.GXD_ISResultStructure ADD FOREIGN KEY (_EMAPA_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.IMG_Image ADD FOREIGN KEY (_ImageType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.IMG_Image ADD FOREIGN KEY (_ImageClass_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MAP_Coordinate ADD FOREIGN KEY (_MapType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MAP_Coordinate ADD FOREIGN KEY (_Units_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_Property ADD FOREIGN KEY (_PropertyTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_Relationship ADD FOREIGN KEY (_RelationshipTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_Relationship ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_Relationship ADD FOREIGN KEY (_Evidence_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_Relationship_Property ADD FOREIGN KEY (_PropertyName_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_RoleTask ADD FOREIGN KEY (_Role_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_RoleTask ADD FOREIGN KEY (_Task_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_UserRole ADD FOREIGN KEY (_Role_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_User ADD FOREIGN KEY (_UserStatus_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_User ADD FOREIGN KEY (_UserType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MGI_User ADD FOREIGN KEY (_Group_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MRK_Cluster ADD FOREIGN KEY (_ClusterType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MRK_Cluster ADD FOREIGN KEY (_ClusterSource_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MRK_BiotypeMapping ADD FOREIGN KEY (_biotypeterm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MRK_BiotypeMapping ADD FOREIGN KEY (_MCVTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.MRK_BiotypeMapping ADD FOREIGN KEY (_PrimaryMCVTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Probe ADD FOREIGN KEY (_SegmentType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Probe ADD FOREIGN KEY (_Vector_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Source ADD FOREIGN KEY (_SegmentType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Source ADD FOREIGN KEY (_Vector_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Source ADD FOREIGN KEY (_Gender_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Source ADD FOREIGN KEY (_CellLine_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Strain ADD FOREIGN KEY (_Species_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Strain ADD FOREIGN KEY (_StrainType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Strain_Genotype ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.PRB_Strain_Marker ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_GeneTrap ADD FOREIGN KEY (_TagMethod_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_GeneTrap ADD FOREIGN KEY (_ReverseComp_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_GeneTrap ADD FOREIGN KEY (_VectorEnd_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Allele_Assoc ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Sequence ADD FOREIGN KEY (_SequenceType_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Sequence ADD FOREIGN KEY (_SequenceQuality_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Sequence ADD FOREIGN KEY (_SequenceStatus_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Sequence ADD FOREIGN KEY (_SequenceProvider_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.SEQ_Sequence_Assoc ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VAR_Sequence ADD FOREIGN KEY (_Sequence_Type_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VAR_Effect ADD FOREIGN KEY (_Effect_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VAR_Type ADD FOREIGN KEY (_Type_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Allele_Cache ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_AnnotHeader ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Annot_Count_Cache ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Annot ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Annot ADD FOREIGN KEY (_Qualifier_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Evidence ADD FOREIGN KEY (_EvidenceTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Evidence_Property ADD FOREIGN KEY (_PropertyTerm_key) REFERENCES mgd.VOC_Term DEFERRABLE;


ALTER TABLE mgd.VOC_Marker_Cache ADD FOREIGN KEY (_Term_key) REFERENCES mgd.VOC_Term DEFERRABLE;


EOSQL
