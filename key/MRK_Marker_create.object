#!/bin/sh

#
# History
#
# 04/05/2018    lec 
#       - TR12734/GenomeFeVah
#
# 11/28/2016	lec
#	- TR12427/Disease Ontology (DO)
#
# 12/04/2012 - jsb - added MRK_ClusterMember foreign key
#
# 06/09/2010	lec
#	- TR 6839/added MRK_MCV_Cache
#
# 09/16/2008 - jsb - added VOC_Marker_Cache
# 10/19/2006	lec
#	- TR 7533; added GO_Tracking
#
# 03/16/2006	lec
#	- TR 7530; remove MLD_Marker
#
# 03/03/2006	lec
#	- removed SNP
#
# 07/23/2002 lec
#	- TR 3802
#
# 08/26/2005    sc
#       - TR 1560; SNP added foreign keys


cd `dirname $0` && . ./Configuration


cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

ALTER TABLE mgd.MRK_Marker ADD PRIMARY KEY (_Marker_key);


ALTER TABLE mgd.MRK_Anchors ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_ClusterMember ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MRK_Current ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_Current ADD FOREIGN KEY (_Current_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_DO_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_History ADD FOREIGN KEY (_History_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_History ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_Label ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_Location_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_MCV_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_Notes ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_Reference ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.MRK_StrainMarker ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.ALL_Knockout_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.ALL_Allele ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.CRS_Matrix ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.CRS_References ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GO_Tracking ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.GXD_AlleleGenotype ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GXD_AllelePair ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GXD_AntibodyMarker ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GXD_Assay ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GXD_Expression ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.GXD_Index ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_Concordance ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_Expt_Marker ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_MC2point ADD FOREIGN KEY (_Marker_key_1) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_MC2point ADD FOREIGN KEY (_Marker_key_2) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_RI2Point ADD FOREIGN KEY (_Marker_key_1) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_RI2Point ADD FOREIGN KEY (_Marker_key_2) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_RIData ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_Statistics ADD FOREIGN KEY (_Marker_key_1) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.MLD_Statistics ADD FOREIGN KEY (_Marker_key_2) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.PRB_Marker ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.PRB_RFLV ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.PRB_Strain_Marker ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.RI_Summary ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


ALTER TABLE mgd.SEQ_Marker_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.VOC_Marker_Cache ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker ON DELETE CASCADE DEFERRABLE;


ALTER TABLE mgd.WKS_Rosetta ADD FOREIGN KEY (_Marker_key) REFERENCES mgd.MRK_Marker DEFERRABLE;


EOSQL
