#!/bin/sh

#
# History
#
# 01/04/2014	lec
#	- TR11515/allele stuff
#

#
# History
#
#
# 02/25/2014    sc
#       - TR11560 - added MGI_Relationship_Category FKs
#

cd `dirname $0` && . ./Configuration


cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

ALTER TABLE mgd.VOC_Vocab ADD PRIMARY KEY (_Vocab_key);


ALTER TABLE mgd.MGI_TranslationType ADD FOREIGN KEY (_Vocab_key) REFERENCES mgd.VOC_Vocab;


ALTER TABLE mgd.VOC_Term ADD FOREIGN KEY (_Vocab_key) REFERENCES mgd.VOC_Vocab ON DELETE CASCADE;


ALTER TABLE mgd.VOC_VocabDAG ADD FOREIGN KEY (_Vocab_key) REFERENCES mgd.VOC_Vocab ON DELETE CASCADE;


ALTER TABLE mgd.VOC_AnnotType ADD FOREIGN KEY (_Vocab_key) REFERENCES mgd.VOC_Vocab ON DELETE CASCADE;


ALTER TABLE mgd.VOC_AnnotType ADD FOREIGN KEY (_EvidenceVocab_key) REFERENCES mgd.VOC_Vocab;


ALTER TABLE mgd.VOC_AnnotType ADD FOREIGN KEY (_QualifierVocab_key) REFERENCES mgd.VOC_Vocab;


ALTER TABLE mgd.MGI_Relationship_Category ADD FOREIGN KEY (_RelationshipVocab_key) REFERENCES mgd.VOC_Vocab;


ALTER TABLE mgd.MGI_Relationship_Category ADD FOREIGN KEY (_QualifierVocab_key) REFERENCES mgd.VOC_Vocab;


ALTER TABLE mgd.MGI_Relationship_Category ADD FOREIGN KEY (_EvidenceVocab_key) REFERENCES mgd.VOC_Vocab;


EOSQL
