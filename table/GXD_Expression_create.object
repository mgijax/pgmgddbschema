#!/bin/sh

#
# HISTORY:
#
# 08/28/2014	lec
#	- TR11654
#	added _emaps_key : _Object_key that belongs to this _Structure_key
#
#	5/1/08 - jsb - added isRecombinase, isForGXD, and hasImage for TR8747
#       We use a smallint (a single byte) for isForGXD and isRecombinase because
#       they will be commonly used in queries and counts; this will allow them
#       to be indexed, whereas smallint fields cannot be.
#

cd `dirname $0` && . ./Configuration


cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

create table mgd.GXD_Expression (
 	_Expression_key                int             not null,
	_Assay_key                     int             not null,
	_Refs_key                      int             not null,
	_AssayType_key                 int             not null,
	_Genotype_key                  int             not null,
	_Marker_key                    int             not null,
	_Structure_key                 int             not null,
	_emaps_key		       int             null,
	_specimen_key		       int             null,
	_gellane_key		       int             null,
	expressed                      smallint             not null,
	age                            varchar(50)     not null,
	ageMin                         numeric           null,
	ageMax                         numeric           null,
	isRecombinase                  smallint         not null,
	isForGXD                       smallint         not null,
	hasImage		       smallint	       not null,
	creation_date                  timestamp DEFAULT now()        not null,
	modification_date              timestamp DEFAULT now()        not null 
);
EOSQL
