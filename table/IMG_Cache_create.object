#!/bin/sh

#
# History
#
# 04/04/2011	lec
#	- TR 10658/add _Cache_key
#
# 11/24/2010	lec
#	- TR 10033/image class
#
# 12/30/2009	lec
#	- during postgres migration testing, it was found
#	  that the production assay type fields were changed
#	  to "null" but this table was never updated
#
# 12/04/2006	lec
#	- TR 7710
#
#

cd `dirname $0` && . ./Configuration


cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

create table mgd.IMG_Cache (
 	_Cache_key                 int             not null,
 	_Image_key                 int             not null,
 	_ThumbnailImage_key        int             not null,
	_ImagePane_key             int             not null,
	_ImageMGIType_key          int             not null,
 	_Object_key                int             not null,
 	_MGIType_key               int             not null,
	_ImageClass_key            int             not null,
 	_Refs_key                  int             not null,
 	_AssayType_key             int             null,
	numericPart                int             not null,
	thumbnailNumericPart       int             not null,
	sequenceNum                int             not null,
 	assayType                  varchar(80)     null,
	figureLabel                varchar(255)    not null,
	paneLabel                  varchar(255)    null
);
EOSQL
