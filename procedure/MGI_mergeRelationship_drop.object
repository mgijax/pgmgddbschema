#!/bin/sh

#
# History
#
# 02/09/2015    lec
#       - TR11896/implement new rules for MGI_Relationship merge
#
# wiki: sw:Fearload -> sw:Feature_Relationships_Representation_in_text_file#Uniqueness
#
# unique relattionships between marker/marker or allele/marker
#
# _Object_key_1
# _Object_key_2
# _Category_key
# _RelationshipTerm_key
# _Qualifier_key
# _Evidence_key
# _Refs_key
#
# during merge of Marker B -> Marker A
#
# - if Marker B Relationship already exists for Marker A, then delete Marker B Relationship
# - if Marker B Relationship does not exist for Marker A, then move Marker B Relationship to Marker A
# - else, nothing happens
#

cd `dirname $0` && . ./Configuration

cat - <<EOSQL | ${PG_DBUTILS}/bin/doisql.csh $0

DROP FUNCTION IF EXISTS MGI_mergeRelationship(int,int);

EOSQL
